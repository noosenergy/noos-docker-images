{
  "name": "create_volume_scenario",
  "description": "Compute volumes consumption curves with dask",
  "language": "Python",
  "code": [
    "",
    "# Compute volumes consumption curves with dask",
    "",
    "import os, octoclient, datetime as dt",
    "",
    "SCENARIO_PARAMS = {",
    "    \"category\": \"IDENTITY\",",
    "    \"range\": \"104W\",",
    "    \"date_from\": dt.date(2020, 11, 1),",
    "    \"group_by\": [",
    "#        \"gsp\",",
    "        \"product_type\",",
    "#        \"product_code\",",
    "        \"brand\",",
    "    ],",
    "    \"published_at\": dt.datetime(2020, 11, 1),",
    "    \"meter_config_url\": \"s3://octoenergy-production-pipelines/Store/Curves/config.yml\",",
    "    \"extracts_root_url\": \"s3://octoenergy-production-pipelines/Staging/Extracts\",",
    "    \"n_workers\": 30 if ASSET_NAME == \"UKPX\" else 3,",
    "}",
    "",
    "pricing_client = octoclient.PricingClient(os.environ[\"OCTOCURVE__PROXY_DNS\"], default_timeout=400)",
    "vol_url = pricing_client.create_volume_scenario(\"UKPX\", **SCENARIO_PARAMS)",
    ""
  ],
  "id": 55,
  "tags": [
    "pricing_client"
  ]
}



