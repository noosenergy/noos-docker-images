{
  "name": "store_url_volume",
  "description": "Retrieve a volume url",
  "language": "Python",
  "code": [
    "",
    "# Retrieve a volume url",
    "",
    "import os, octoclient, datetime as dt",
    "",
    "BASE_DATETIME = dt.datetime.combine(dt.date.today(), dt.time())",
    "ASSET_NAME = \"UKPX\"",
    "RANGE_IN_WEEKS = 104",
    "",
    "VOL_URL_QUERY_PARAMS = {",
    "    \"type\": \"VOLUME\",",
    "    \"asset\": ASSET_NAME,",
    "    \"category\": \"IDENTITY\",",
    "    \"range\": f\"{RANGE_IN_WEEKS}W\",",
    "    \"date_from\": BASE_DATETIME.date(),",
    "    \"published_at\": BASE_DATETIME,",
    "    \"group_by\": \"CUSTOM\",",
    "}",
    "",
    "pricing_client = octoclient.PricingClient(os.environ[\"OCTOCURVE__PROXY_DNS\"])",
    "vol_url = pricing_client.retrieve_store_url(**VOL_URL_QUERY_PARAMS)",
    "vol_url",
    ""
  ],
  "id": 54,
  "tags": [
    "pricing_client"
  ]
}
